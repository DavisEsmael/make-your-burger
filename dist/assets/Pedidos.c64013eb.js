import{_ as m,M as w,r as g,o as n,c as i,w as y,v as $,a as v,b as e,F as h,d as p,t as l,p as C,e as P}from"./index.f7e02e17.js";const S={name:"Dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:w},methods:{async getPedidos(){const a=await(await fetch("http://localhost:3000/burgers")).json();this.burgers=a,this.getStatus()},async getStatus(){const a=await(await fetch("http://localhost:3000/status")).json();this.status=a},async deleteBurger(t){await(await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"})).json(),this.msg="Pedido removido com sucesso!",setTimeout(()=>this.msg="",3e3),this.getPedidos()},async updatedBurger(t,a){const r=t.target.value,u=JSON.stringify({status:r}),d=await(await fetch(`http://localhost:3000/burgers/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:u})).json();this.msg=`Pedido N\xBA ${d.id} foi atualizado para ${d.status}!`,setTimeout(()=>this.msg="",3e3),console.log(d)}},mounted(){this.getPedidos()}},b=t=>(C("data-v-5ec7c9aa"),t=t(),P(),t),q={id:"burger-table"},D=b(()=>e("div",null,[e("div",{id:"burger-table-heading"},[e("div",{class:"order-id"},"#"),e("div",null,"Cliente:"),e("div",null,"P\xE3o:"),e("div",null,"Carne:"),e("div",null,"Opcionais:"),e("div",null,"A\xE7\xF5es:")])],-1)),k={id:"burger-table-rows"},B={class:"order-number"},j=["onChange"],x=b(()=>e("option",{value:""},"Selecione",-1)),T=["value","selected"],E=["onClick"];function I(t,a,r,u,c,d){const _=g("message");return n(),i("div",q,[y(v(_,{msg:c.msg},null,8,["msg"]),[[$,c.msg]]),D,e("div",k,[(n(!0),i(h,null,p(c.burgers,s=>(n(),i("div",{class:"burger-table-row",key:s.id},[e("div",B,l(s.id),1),e("div",null,l(s.nome),1),e("div",null,l(s.pao),1),e("div",null,l(s.carne),1),e("div",null,[e("ul",null,[(n(!0),i(h,null,p(s.opcionais,(o,f)=>(n(),i("li",{key:f},l(o),1))),128))])]),e("div",null,[e("select",{name:"status",class:"status",onChange:o=>d.updatedBurger(o,s.id)},[x,(n(!0),i(h,null,p(c.status,o=>(n(),i("option",{key:o.id,value:o.tipo,selected:s.status==o.tipo},l(o.tipo),9,T))),128))],40,j),e("button",{class:"delete-btn",onClick:o=>d.deleteBurger(s.id)}," Cancelar ",8,E)])]))),128))])])}const N=m(S,[["render",I],["__scopeId","data-v-5ec7c9aa"]]),A={name:"Pedidos",components:{Dashboard:N}},F={class:"main-container"},J=e("h1",null,"Gerenciar pedidos:",-1);function L(t,a,r,u,c,d){const _=g("Dashboard");return n(),i("div",F,[J,v(_)])}const O=m(A,[["render",L]]);export{O as default};
